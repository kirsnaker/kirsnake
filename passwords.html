<!DOCTYPE html>
<html lang="ru">
<head>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/header.css">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Генератор паролей | Kirsnake</title>
    <style>
        /* Общие стили */
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        body {
            background-color: #f5f5f5;
            color: #333;
            line-height: 1.6;
        }
        
        /* Основное содержимое */
        main {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .password-container {
            background-color: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        
        .password-container h2 {
            margin-bottom: 20px;
            color: #2c3e50;
        }
        
        #password-output {
            font-size: 1.5rem;
            width: 100%;
            padding: 15px;
            margin: 15px 0;
            border: 2px solid #ddd;
            border-radius: 4px;
            text-align: center;
            font-family: 'Courier New', monospace;
        }
        
        .controls {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .control-group {
            margin-bottom: 15px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
        }
        
        input[type="range"] {
            width: 100%;
            height: 6px;
            -webkit-appearance: none;
            background: #e0e0e0;
            border-radius: 3px;
        }
        
        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 18px;
            height: 18px;
            background: #4caf50;
            border-radius: 50%;
            cursor: pointer;
        }
        
        .buttons {
            display: flex;
            gap: 10px;
        }
        
        #generate-btn {
            background-color: #3498db;
            color: white;
        }
        
        #generate-btn:hover {
            background-color: #2980b9;
        }
        
        #copy-btn {
            background-color: #2ecc71;
            color: white;
        }
        
        #copy-btn:hover {
            background-color: #27ae60;
        }
        
        .strength-meter {
            height: 8px;
            background-color: #f0f0f0;
            border-radius: 4px;
            margin-top: 25px;
            overflow: hidden;
        }
        
        .strength-bar {
            height: 100%;
            width: 0%;
            transition: width 0.3s, background-color 0.3s;
        }
        
        .length-value {
            font-weight: bold;
            color: #3498db;
        }
        
        /* Мобильная версия */
     </style>
</head>
<body>
<header>
    <div class="header-content">
        <a href="index.html" class="logo">Kirsnake</a>
        <nav>
            <a href="index.html">Главная</a>
            <div class="dropdown">
                <button class="dropbtn">Генераторы</button>
                <div class="dropdown-content">
                    <a href="qr.html">QR-генератор</a>
                    <a href="random.html">Генератор чисел</a>
                    <a href="passwords.html">Генератор паролей</a>
                </div>
            </div>
            <a href="calculator.html">Калькулятор</a>
            <a href="currency.html">Курсы валют</a>
            <a href="weather.html">Погода</a>
            <a href="ip.html">IP</a>
        </nav>
    </div>
</header>
    
    <main>
        <div class="password-container">
            <h2>Генератор паролей</h2>
            <div id="password-output" readonly></div>
            
            <div class="controls">
                <div class="control-group">
                    <label for="length">Длина пароля: <span class="length-value">12</span></label>
                    <input type="range" id="length" min="4" max="32" value="12">
                </div>
                
                <div class="control-group">
                    <label for="uppercase">Заглавные буквы (A-Z)</label>
                    <input type="checkbox" id="uppercase" checked>
                </div>
                
                <div class="control-group">
                    <label for="lowercase">Строчные буквы (a-z)</label>
                    <input type="checkbox" id="lowercase" checked>
                </div>
                
                <div class="control-group">
                    <label for="numbers">Цифры (0-9)</label>
                    <input type="checkbox" id="numbers" checked>
                </div>
                
                <div class="control-group">
                    <label for="symbols">Спецсимволы (!@#$%^&*)</label>
                    <input type="checkbox" id="symbols">
                </div>
                
                <div class="control-group">
                    <label for="exclude-similar">Исключать похожие символы (1lI0O)</label>
                    <input type="checkbox" id="exclude-similar" checked>
                </div>
            </div>
            
            <div class="buttons">
                <button id="generate-btn">Сгенерировать</button>
                <button id="copy-btn">Копировать</button>
            </div>
            
            <div class="strength-meter">
                <div class="strength-bar" id="strength-bar"></div>
            </div>
        </div>
    </main>

    <script>
        // Генератор паролей
        document.addEventListener('DOMContentLoaded', function() {
            const lengthSlider = document.getElementById('length');
            const lengthValue = document.querySelector('.length-value');
            const uppercaseCheckbox = document.getElementById('uppercase');
            const lowercaseCheckbox = document.getElementById('lowercase');
            const numbersCheckbox = document.getElementById('numbers');
            const symbolsCheckbox = document.getElementById('symbols');
            const excludeSimilarCheckbox = document.getElementById('exclude-similar');
            const generateBtn = document.getElementById('generate-btn');
            const copyBtn = document.getElementById('copy-btn');
            const passwordOutput = document.getElementById('password-output');
            const strengthBar = document.getElementById('strength-bar');
            
            // Обновление длины пароля
            lengthSlider.addEventListener('input', function() {
                lengthValue.textContent = this.value;
            });
            
            // Генерация пароля
            generateBtn.addEventListener('click', generatePassword);
            
            // Копирование пароля
            copyBtn.addEventListener('click', function() {
                if (passwordOutput.textContent) {
                    navigator.clipboard.writeText(passwordOutput.textContent)
                        .then(() => {
                            copyBtn.textContent = 'Скопировано!';
                            setTimeout(() => {
                                copyBtn.textContent = 'Копировать';
                            }, 2000);
                        });
                }
            });
            
            // Функция генерации
            function generatePassword() {
                const length = lengthSlider.value;
                const hasUpper = uppercaseCheckbox.checked;
                const hasLower = lowercaseCheckbox.checked;
                const hasNumber = numbersCheckbox.checked;
                const hasSymbol = symbolsCheckbox.checked;
                const excludeSimilar = excludeSimilarCheckbox.checked;
                
                if (!hasUpper && !hasLower && !hasNumber && !hasSymbol) {
                    alert('Выберите хотя бы один тип символов!');
                    return;
                }
                
                let charset = '';
                if (hasUpper) charset += excludeSimilar ? 'ABCDEFGHJKLMNPQRSTUVWXYZ' : 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
                if (hasLower) charset += excludeSimilar ? 'abcdefghijkmnopqrstuvwxyz' : 'abcdefghijklmnopqrstuvwxyz';
                if (hasNumber) charset += excludeSimilar ? '23456789' : '0123456789';
                if (hasSymbol) charset += '!@#$%^&*()_+-=[]{}|;:,.<>?';
                
                let password = '';
                for (let i = 0; i < length; i++) {
                    const randomIndex = Math.floor(Math.random() * charset.length);
                    password += charset[randomIndex];
                }
                
                passwordOutput.textContent = password;
                updateStrengthMeter(password);
            }
            
            // Оценка сложности
            function updateStrengthMeter(password) {
                let strength = 0;
                
                if (password.length >= 8) strength += 1;
                if (password.length >= 12) strength += 1;
                if (password.length >= 16) strength += 1;
                
                const hasUpper = /[A-Z]/.test(password);
                const hasLower = /[a-z]/.test(password);
                const hasNumber = /[0-9]/.test(password);
                const hasSymbol = /[^A-Za-z0-9]/.test(password);
                
                if (hasUpper && hasLower) strength += 1;
                if (hasNumber) strength += 1;
                if (hasSymbol) strength += 1;
                
                let width = 0;
                let color = '#e74c3c';
                
                if (strength <= 2) {
                    width = 33;
                } else if (strength <= 4) {
                    width = 66;
                    color = '#f39c12';
                } else {
                    width = 100;
                    color = '#2ecc71';
                }
                
                strengthBar.style.width = width + '%';
                strengthBar.style.backgroundColor = color;
            }
            
            // Бургер-меню
            document.querySelector('.burger-btn').addEventListener('click', function() {
                this.classList.toggle('active');
                document.querySelector('nav').classList.toggle('active');
            });
            
            // Выпадающее меню на мобильных
            document.querySelectorAll('.dropbtn').forEach(btn => {
                btn.addEventListener('click', function(e) {
                    if (window.innerWidth <= 768) {
                        e.preventDefault();
                        this.parentElement.classList.toggle('active');
                    }
                });
            });
            
            // Генерация при загрузке
            generatePassword();
        });
    </script>
    <script>
// Блокировка зума, но разрешение скролла
let lastTouchEnd = 0;
let initialScale = 1;

document.addEventListener('touchstart', function(event) {
    if (event.touches.length > 1) {
        event.preventDefault(); // Блокируем мультитач (зум)
    }
}, { passive: false });

document.addEventListener('touchend', function(event) {
    const now = Date.now();
    if (now - lastTouchEnd <= 300) {
        event.preventDefault(); // Блокируем двойной тап (зум)
    }
    lastTouchEnd = now;
}, { passive: false });

document.addEventListener('gesturestart', function(event) {
    event.preventDefault(); // Блокируем жесты масштабирования (iOS)
});
</script>
</body>
</html>